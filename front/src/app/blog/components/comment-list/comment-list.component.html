<div class="wrapper">

  <ul>
    <li *ngFor="let comment of comments" class="comment">
      
      <div *ngIf="comment.level === 0">
          <div>
              <span>{{comment.writer.name}} </span>
              <span class="date">{{comment.createdAt | date:'yyyy-MM-dd'}} </span>
              <span class="reply-btn">
                <mat-icon [inline]="true">subdirectory_arrow_right</mat-icon>
                <button id="{{comment.id}}" (click)="addCommentForm($event)">답글</button>         
              </span>
          </div>
     
          <div>
              {{comment.body}}
          </div>
    
          <div *ngIf="addComment && comment.id == idComment">
              <mat-icon [inline]="true">subdirectory_arrow_right</mat-icon>
              <app-comment-form [post]="post" [comments]="comments" [commentId]="comment.id"></app-comment-form>
          </div>
      </div>

      <div *ngIf="comment.level != 0" class=reply>
          <mat-icon [inline]="true" class="reply-icon" >subdirectory_arrow_right</mat-icon>
          <div>
            <div>
                <span>{{comment.writer.name}} </span>
                <span class="date">{{comment.createdAt | date:'yyyy-MM-dd'}} </span>
                <span class="reply-btn">
                  <mat-icon [inline]="true">subdirectory_arrow_right</mat-icon>
                  <button id="{{comment.id}}" (click)="addCommentForm($event)">답글</button>         
                </span>
            </div>
      
            <div>
                {{comment.body}}
            </div>
      
            <div *ngIf="addComment && comment.id == idComment">
                <mat-icon [inline]="true">subdirectory_arrow_right</mat-icon>
                <app-comment-form [post]="post" [comments]="comments" [commentId]="comment.id"></app-comment-form>
            </div>
          </div>

      </div>

    </li>

  </ul>

  <app-comment-form [post]="post" [comments]="comments"></app-comment-form>

</div>